{
  "content": [
    {
      "type": "text",
      "text": "# Samba (software)\n\n| discontinued           =\n| latest release version =\n| latest release date    =\n| latest preview version =\n| latest preview date    =\n| programming language   = C, Python\n| operating system       = Multiplatform\n| platform               =\n| size                   =\n| language               =\n| genre                  = Network file system\n| license                = 2008: GPL-3.0-or-later}}1993: GPL-2.0-or-later1992: Proprietary\n| website                =\n| latest_preview_date    =\n}}\nSamba is a free software re-implementation of the SMB networking protocol, and was originally developed by Andrew Tridgell. Samba provides file and print services for various Microsoft Windows clients and can integrate with a Microsoft Windows Server domain, either as a Domain Controller (DC) or as a domain member. As of version 4, it supports Active Directory and Microsoft Windows NT domains.\nSamba runs on most Unix-like systems, such as Linux, Solaris, AIX and the BSD variants, including Apple macOS (Mac OS X 10.2 and greater) and macOS Server. Samba also runs on a number of other operating systems such as OpenVMS and IBM i. Samba is standard on nearly all distributions of Linux and is commonly included as a basic system service on other Unix-based operating systems as well. Samba is released under the terms of the GNU General Public License. The name Samba comes from SMB (Server Message Block), the name of the proprietary protocol used by the Microsoft Windows network file system.\nEarly history\nAndrew Tridgell developed the first version of Samba Unix in December 1991 and January 1992, as a PhD student at the Australian National University, using a packet sniffer to do network analysis of the protocol used by DEC Pathworks server software. It did not have a formal name at the time of the first releases, versions 0.1, 0.5, and 1.0, all from the first half of January 1992; Tridgell simply referred to it as \"a Unix file server for Dos Pathworks.\" He understood that he had \"in fact implemented the netbios protocol\" at the time of version 1.0 and that \"this software could be used with other PC clients.\"\nWith a focus on interoperability with Microsoft's LAN Manager, Tridgell released \"netbios for unix\", observer, version 1.5 in December 1993. This release was the first to include client-software as well as a server. Also, at this time GPL2 was chosen as license.\nMidway through the 1.5-series, the name was changed to smbserver. However, Tridgell got a trademark notice from the company \"Syntax\", who sold a product named TotalNet Advanced Server and owned the trademark for \"SMBserver\". The name \"Samba\" was derived by running the Unix command grep through the system dictionary looking for words that contained the letters S, M, and B, in that order (i.e. ).\nVersions 1.6, 1.7, 1.8, and 1.9 followed relatively quickly, with the latter being released in January 1995. Tridgell considers the adoption of CVS in May 1996 to mark the birth of the Samba Team, though there had been contributions from other people, especially Jeremy Allison, previously.\nVersion 2.0.0, released in January 1999, was a major release, including support for authentication from Windows NT Primary Domain Controller, 64 bit filesystem support for very large files, and exposure of OPLOCKS to unix systems. Version 2.2.0 released in April 2001.\nVersion history\n{|class=\"wikitable sortable\"\n!Date!!Version!!Description\n|-\n|||||Active Directory support. The 3.0.x series officially reached end-of-life on 5 August 2009.\n|-\n| ||||It will be updated on an as-needed basis for security issues only. There was a change of license from GPL2 to GPL3, with some parts released under LGPL3. The 3.2.x series officially reached EOL 1 March 2010.\n|-\n|||||\n|-\n|||||This was the first release to include both Samba 3 and Samba 4 source code.\n|-\n|||||This was the first release to include experimental support for SMB2.\n|-\n||||| This is the first branch to include full support for SMB2.\n|-\n|||||A major rewrite that enables Samba to be an Active Directory domain controller, participating fully in a Windows Active Directory Domain.  Its first technical preview (4.0.0TP1) was released in January 2006 after 3 years of development.\n|-\n|||||Support for SMB3.\n|-\n|||||Btrfs based file compression, snapshots and winbind integration\n|-\n|||||New Logging features, SMB 3.1.1 support.\n|-\n||||| Asynchronous flush requests\n|-\n|\n|\n|NTLM v1 disabled by default, Virtual List View, Various performance improvements.\n|-\n|\n|\n|Multi-process Netlogon support.\n|-\n|\n|\n|Samba AD with MIT Kerberos.\n|-\n|\n|\n|Apple Time Machine Support. Setups using 'domain' or 'ads' security modes now require 'winbindd' to be running.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|\n|-\n|\n|\n|SMB1 is disabled by default as a mitigation for the WannaCry vulnerability.\n|-\n|\n|\n|\n|-\n|\n|\n|Samba 4.13 raises the minimum version of Python to 3.6.\n|-\n|\n|\n|Major overhaul of VFS subsystem and more.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|Many changes.\n|-\n|\n|\n|SMB3 Directory Leases are supported, Netlogon Ping can be done over LDAP and LDAPS, experimental Himmelblau authentication for Azure Entra ID, performance improvements, nmbd proxy logon feature is removed.\n|}\nSecurity\nSome versions of Samba 3.6.3 and lower suffer serious security issues which can allow anonymous users to gain root access to a system from an anonymous connection, through the exploitation of an error in Samba's remote procedure call.\nOn 12 April 2016, Badlock, a crucial security bug in Windows and Samba, was disclosed. Badlock for Samba is referenced by CVE-2016-2118 (SAMR and LSA man in the middle attacks possible).\nOn 24 May 2017, it was announced that a remote code execution vulnerability had been found in Samba named EternalRed or SambaCry, affecting all versions since 3.5.0. This vulnerability was assigned identifier CVE-2017-7494.\nOn 14 September 2020, a proof-of-concept exploit for the netlogon vulnerability called Zerologon (CVE-2020-1472) for which a patch exists since August was published. Some federal agencies using the software have been ordered to install the patch.\nFeatures\nSamba allows file and print sharing between computers running Microsoft Windows and computers running Unix. It is an implementation of dozens of services and a dozen protocols, including:\n* NetBIOS over TCP/IP (NBT)\n* SMB (known as CIFS in some versions)\n** Samba supports POSIX extensions for CIFS/SMB. The initial extension was CIFS VFS (CAP_UNIX) from 2004, which has been somewhat superseded by SMB3.\n* DCE/RPC or more specifically, MSRPC, the Network Neighborhood suite of protocols\n* A WINS server also known as a NetBIOS Name Server (NBNS)\n* The NT Domain suite of protocols which includes NT Domain Logons\n* Security Account Manager (SAM) database\n* Local Security Authority (LSA) service\n* NT-style printing service (SPOOLSS)\n* NTLM\n* Active Directory Logon using modified versions of Kerberos and LDAP\n* DFS server\nAll these services and protocols are frequently incorrectly referred to as just NetBIOS or SMB. The NBT (NetBIOS over TCP/IP) and WINS protocols, and their underlying SMB version 1 protocol, are deprecated on Windows. Since Windows Vista the WS-Discovery protocol has been included along with SMB2 and its successors, which supersede these. (WS-Discovery is implemented on Unix-like platforms by third party daemons which allow Samba shares to be discovered when the deprecated protocols are disabled).\nSamba sets up network shares for chosen Unix directories (including all contained subdirectories). These appear to Microsoft Windows users as normal Windows folders accessible via the network. Unix users can either mount the shares directly as part of their file structure using the mount.cifs command or, alternatively, can use a utility, smbclient (libsmb) installed with Samba to read the shares with a similar interface to a standard command line FTP program. Each directory can have different access privileges overlaid on top of the normal Unix file protections. For example: home directories would have read/write access for all known users, allowing each to access their own files. However they would still not have access to the files of others unless that permission would normally exist. Note that the netlogon share, typically distributed as a read only share from /etc/samba/netlogon, is the logon directory for user logon scripts.\nSamba services are implemented as two daemons:\n* smbd, which provides the file and printer sharing services, and\n* nmbd, which provides the NetBIOS-to-IP-address name service. NetBIOS over TCP/IP requires some method for mapping NetBIOS computer names to the IP addresses of a TCP/IP network.\nSamba configuration is achieved by editing a single file (typically installed as /etc/smb.conf or /etc/samba/smb.conf). Samba can also provide user logon scripts and group policy implementation through poledit.\nSamba is included in most Linux distributions and is started during the boot process. On Red Hat, for instance, the /etc/rc.d/init.d/smb script runs at boot time, and starts both daemons. Samba is not included in Solaris 8, but a Solaris 8-compatible version is available from the Samba website. The OS/2-based ArcaOS includes Samba to replace the old IBM LAN Server software.\nEarlier versions of Samba included a web administration tool called Samba Web Administration Tool (SWAT),\nwhich was removed starting with version 4.1.\nSamba TNG\nSamba TNG (The Next Generation) was forked in late 1999, after disagreements between the Samba Team leaders and Luke Leighton about the directions of the Samba project. They failed to come to an agreement on a development transition path which allowed the research version of Samba he was developing (known at the time as Samba-NTDOM) to slowly be integrated into Samba. Development was minimal, due to a lack of developers. The Samba TNG team frequently directed potential users towards Samba because of its better support and development.\nA key goal of the Samba TNG project was to rewrite all of the NT Domains services as FreeDCE projects. This was made difficult as the services were developed manually through network reverse-engineering, with limited or no reference to DCE/RPC documentation.\nA key difference from Samba was in the implementation of the NT Domains suite of protocols and MSRPC services. Samba makes all the NT Domains services available from a single place, whereas Samba TNG separated each service into its own program.\nReactOS started using Samba TNG services for its SMB implementation. The developers of both projects were interested in seeing the Samba TNG design used to help get ReactOS talking to Windows networks. They worked together to adapt the network code and build system. The multi-layered and modular approach made it easy to port each service to ReactOS.\nSamba TNG now seems to be abandoned and unmaintained. Their website is offline with the functional archive from 2016. The last release for ReactOS was in 2009.\nSee also\n* LM hash\n* SSLBridge\nNotes\nReferences\nExternal links\n*"
    }
  ]
}