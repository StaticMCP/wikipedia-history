{
  "content": [
    {
      "type": "text",
      "text": "# Harmonic bin packing\n\nHarmonic bin-packing is a family of online algorithms for bin packing. The input to such an algorithm is a list of items of different sizes. The output is a packing - a partition of the items into bins of fixed capacity, such that the sum of sizes of items in each bin is at most the capacity. Ideally, we would like to use as few bins as possible, but minimizing the number of bins is an NP-hard problem.\nThe harmonic bin-packing algorithms rely on partitioning the items into categories based on their sizes, following a Harmonic progression. There are several variants of this idea.\nHarmonic-k\nThe 'Harmonic-k algorithm' partitions the interval of sizes (0,1] harmonically into k-1 pieces I_j := (1/(j+1),1/j]  for 1\\leq j  and I_k := (0,1/k] such that \\bigcup_{j=1}^k I_j = (0,1]. An item i \\in L is called an I_j-item, if s(i) \\in I_j.\nThe algorithm divides the set of empty bins into k infinite classes B_j for 1\\leq j \\leq k, one bin type for each item type. A bin of type B_j is only used for bins to pack items of type j. Each bin of type B_j for 1\\leq j  can contain exactly j I_j-items. The algorithm now acts as follows:\n* If the next item i \\in L is an I_j-item for 1\\leq j , the item is placed in the first (only open) B_j bin that contains fewer than j pieces or opens a new one if no such bin exists.\n* If the next item i \\in L is an I_k-item, the algorithm places it into the bins of type B_k using Next-Fit.\nThis algorithm was first described by Lee and Lee.  It has a time complexity of \\mathcal{O}(n\\log(n)) where n is the number of input items. At each step, there are at most k open bins that can be potentially used to place items, i.e., it is a k-bounded space algorithm.\nLee and Lee also studied the asymptotic approximation ratio.  They defined a sequence \\sigma_1 := 1, \\sigma_{i+1} := \\sigma_{i}(\\sigma_{i}+1) for i \\geq 1 and proved that for \\sigma_{l}  it holds that R_{Hk}^{\\infty} \\leq \\sum_{i = 1}^{l} 1/\\sigma_i + k/(\\sigma_{l+1}(k-1)). For k \\rightarrow \\infty it holds that R_{Hk}^{\\infty} \\approx 1.6910. Additionally, they presented a family of worst-case examples for that R_{Hk}^{\\infty} = \\sum_{i = 1}^{l} 1/\\sigma_i + k/(\\sigma_{l+1}(k-1))\nRefined-Harmonic (RH)\nThe Refined-Harmonic combines ideas from the Harmonic-k algorithm with ideas from Refined-First-Fit. It places the items larger than 1/3 similar as in Refined-First-Fit, while the smaller items are placed using Harmonic-k. The intuition for this strategy is to reduce the huge waste for bins containing pieces that are just larger than 1/2.\nThe algorithm classifies the items with regard to the following intervals: I_1 := (59/96,1],  I_a := (1/2,59/96], I_2 := (37/96,1/2], I_b := (1/3,37/96], I_j := (1/(j+1),1/j], for j \\in \\{3, \\dots, k-1\\}, and I_k := (0,1/k]. The algorithm places the I_j-items as in Harmonic-k, while it follows a different strategy for the items in I_a and I_b. There are four possibilities to pack I_a-items and I_b-items into bins.\n* An I_a-bin contains only one I_a-item.\n* An I_b-bin contains only one I_b-item.\n* An I_{ab}-bin contains one I_a-item and one I_b-item.\n* An I_{bb}-bin contains two I_b-items.\nAn I_b'-bin denotes a bin that is designated to contain a second I_b-item. The algorithm uses the numbers N_a, N_b, N_ab, N_bb, and N_b' to count the numbers of corresponding bins in the solution. Furthermore, N_c= N_b+N_ab\nAlgorithm Refined-Harmonic-k for a list L = (i_1, \\dots i_n):\n1. N_a = N_b = N_ab = N_bb = N_b' = N_c = 0\n2. If i_j is an I_k-piece\nthen use algorithm Harmonic-k to pack it\n3.     else if i_j is an I_a-item\nthen if N_b != 1,\nthen pack i_j into any J_b-bin; N_b--;  N_ab++;\nelse place i_j in a new (empty) bin; N_a++;\n4.         else if i_j is an I_b-item\nthen if N_b' = 1\nthen place i_j into the I_b'-bin; N_b' = 0; N_bb++;\n5.                 else if N_bb   They proved that for k = 20 it holds that R^\\infty_{RH} \\leq 373/228.\nOther variants\nModified Harmonic (MH) has asymptotic ratio R_{MH}^{\\infty} \\leq 538/33 \\approx 1.61562.\nModified Harmonic 2 (MH2) has asymptotic ratio R_{MH2}^{\\infty} \\leq 239091/148304 \\approx 1.61217.\nHarmonic + 1 (H+1) has asymptotic ratio R_{H+1}^\\infty \\geq 1.59217.\nHarmonic ++ (H++) has asymptotic ratio R_{H++}^\\infty \\leq 1.58889 and R_{H++}^{\\infty} \\geq 1.58333.\nReferences"
    }
  ]
}