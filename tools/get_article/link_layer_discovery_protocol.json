{
  "content": [
    {
      "type": "text",
      "text": "# Link Layer Discovery Protocol\n\nThe Link Layer Discovery Protocol (LLDP) is a vendor-neutral link layer protocol used by network devices for advertising their identity, capabilities, and neighbors on a local area network based on IEEE 802 technology, principally wired Ethernet. The protocol is formally referred to by the IEEE as Station and Media Access Control Connectivity Discovery specified in IEEE 802.1AB with additional support in IEEE 802.3 section 6 clause 79.\nLLDP performs functions similar to several proprietary protocols, such as Cisco Discovery Protocol, Foundry Discovery Protocol, Nortel Discovery Protocol and Link Layer Topology Discovery.\nInformation gathered\nInformation gathered with LLDP can be stored in the device management information base (MIB) and queried with the Simple Network Management Protocol (SNMP) as specified in . The topology of an LLDP-enabled network can be discovered by crawling the hosts and querying this database. Information that may be retrieved include:\n* System name and description\n* Port name and description\n* VLAN name\n* IP management address\n* System capabilities (switching, routing, etc.)\n* MAC/PHY information\n* MDI power\n* Link aggregation\nApplications\nThe Link Layer Discovery Protocol may be used as a component in network management and network monitoring applications.\nOne such example is its use in data center bridging requirements. The  (DCBX) is a discovery and capability exchange protocol that is used for conveying capabilities and configuration of the above features between neighbors to ensure consistent configuration across the network.\nLLDP is used to advertise power over Ethernet capabilities and requirements and negotiate power delivery.\nMedia endpoint discovery extension\nMedia Endpoint Discovery is an enhancement of LLDP, known as LLDP-MED, that provides the following facilities:\n* Auto-discovery of LAN policies (such as VLAN, Layer 2 Priority and Differentiated services (Diffserv) settings) enabling plug and play networking.\n* Device location discovery to allow creation of location databases and, in the case of Voice over Internet Protocol (VoIP), Enhanced 911 services.\n* Extended and automated power management of Power over Ethernet (PoE) endpoints.\n* Inventory management, allowing network administrators to track their network devices, and determine their characteristics (manufacturer, software and hardware versions, serial or asset number).\nThe LLDP-MED protocol extension was formally approved and published as the standard ANSI/TIA-1057 by the Telecommunications Industry Association (TIA) in April 2006.\nSystem Capability Codes\n{| class=\"wikitable\"\n|+\n!Code\n!Capability\n|-\n|B\n|Bridge (Switch)\n|-\n|C\n|DOCSIS Cable Device\n|-\n|O\n|Other\n|-\n|P\n|Repeater\n|-\n|R\n|Router\n|-\n|S\n|Station\n|-\n|T\n|Telephone\n|-\n|W\n|WLAN Access Point\n|}\nFrame structure\nLLDP information is sent by devices from each of their interfaces at a fixed interval, in the form of an Ethernet frame.  Each frame contains one LLDP Data Unit (LLDPDU). Each LLDPDU is a sequence of type–length–value (TLV) structures.\nThe Ethernet frame used in LLDP typically has its destination MAC address set to a special multicast address that 802.1D-compliant bridges do not forward. Other multicast and unicast destination addresses are permitted. The EtherType field is set to 0x88cc.\nEach LLDP frame starts with the following mandatory TLVs: Chassis ID, Port ID, and Time-to-Live. The mandatory TLVs are followed by any number of optional TLVs. The frame optionally ends with a special TLV, named end of LLDPDU in which both the type and length fields are 0.\nAccordingly, an Ethernet frame containing an LLDPDU has the following structure:\n{| class=\"wikitable\" style=\"text-align: center;\"\n|+ LLDP Ethernet frame structure\n|-\n! Preamble\n! Destination MAC\n! Source MAC\n! Ethertype\n! Chassis ID TLV\n! Port ID TLV\n! Time to live TLV\n! Optional TLVs\n! Optional End of LLDPDU TLV\n! Frame check sequence\n|-\n|\n| align=\"left\" | ,&nbsp;or ,&nbsp;or\n| Station's address\n| 0x88CC\n| Type=1\n| Type=2\n| Type=3\n| Zero or more complete TLVs\n| Type=0, Length=0\n|\n|}\nEach of the TLV components has the following basic structure:\n{| class=\"wikitable\" style=\"text-align: center;\"\n|+ TLV structure\n! Type !! Length !! Value\n|-\n| 7 bits || 9 bits || 0-511 octets\n|}\n{| class=\"wikitable\"\n|+ TLV type values\n! TLV type !! TLV name !! Usage in LLDPDU\n|-\n| 0 || End of LLDPDU || Optional\n|-\n| 1 || Chassis ID || Mandatory\n|-\n| 2 || Port ID || Mandatory\n|-\n| 3 || Time To Live || Mandatory\n|-\n| 4 || Port description || Optional\n|-\n| 5 || System name || Optional\n|-\n| 6 || System description || Optional\n|-\n| 7 || System capabilities || Optional\n|-\n| 8 || Management address || Optional\n|-\n| 9–126 || Reserved || -\n|-\n| 127 || Custom TLVs || Optional\n|}\nCustom TLVs are supported via a TLV type 127.  The value of a custom TLV starts with a 24-bit organizationally unique identifier and a 1 byte organizationally specific subtype followed by data.  The basic format for an organizationally specific TLV is shown below:\n{| class=\"wikitable\" style=\"text-align: center;\"\n|+ Organizationally specific TLV\n! Type\n! Length\n! Organizationally unique identifier (OUI)\n! Organizationally defined subtype\n! Organizationally defined information string\n|-\n| 7 bits&mdash;127\n| 9 bits\n| 24 bits\n| 8 bits\n| 0-507 octets\n|}\nAccording to IEEE Std 802.1AB, §9.6.1.3, \"The Organizationally Unique Identifier shall contain the organization's OUI as defined in IEEE Std 802-2001.\"  Each organization is responsible for managing its subtypes.\nNotes\nReferences\nExternal links\n*[https://www.eetimes.com/document.asp?doc_id=1272069 Tutorial on the Link Layer Discovery Protocol] on EE Times\n* [http://www.ieee802.org/1/pages/802.1ab.html 802.1AB - Station and Media Access Control Connectivity Discovery] on IEEE 802.1\n*[https://gitlab.com/wireshark/wireshark/-/wikis/LinkLayerDiscoveryProtocol Link Layer Discovery Protocol] on The Wireshark Wiki"
    }
  ]
}