{
  "content": [
    {
      "type": "text",
      "text": "# Portage (software)\n\n| latest release date = }}\n| latest preview version =\n| latest preview date = }}\n| operating system = Gentoo Linux and Gentoo/FreeBSD, ChromiumOS, ChromeOS, Sabayon, Calculate Linux\n| platform = POSIX-compatible/Python-capable\n| genre =\n| programming language =\n| license =\n| website =\n}}\nPortage is a package management system originally created for and used by Gentoo Linux and also by ChromeOS and Calculate among others.  Portage is based on the concept of ports collections. Gentoo is sometimes referred to as a meta-distribution due to the extreme flexibility of Portage, which makes it operating-system-independent.[http://tom.acrewoods.net/writing/gentoo-workstation My Workstation OS: Gentoo  Tom Chance's website]  The Gentoo/Alt project was concerned with using Portage to manage other operating systems, such as BSDs, macOS and Solaris. The most notable of these implementations is the Gentoo/FreeBSD project.\nThere is an ongoing effort called the Package Manager Specification project (PMS), which aims to standardise and document the behaviour of Portage, allowing the ebuild tree and Gentoo system packages to be used with alternative package managers such as Paludis and pkgcore. Its goal is to specify the exact set of features and behaviour of package managers and ebuilds, serving as an authoritative reference for Portage.\nOverview\nAccessing Portage\nPorthole graphical frontend.\nPortage is similar to the BSD-style package management known as ports, and was originally designed with FreeBSD's ports in mind.[http://www.gentoo.org/doc/en/articles/making-the-distro-p3.xml Gentoo Linux Documentation - Making the distribution, Part 3]  Portage is written in the Python programming language, and is the main utility that defines Gentoo. Although the system itself is known as Portage, it consists of two main parts, the ebuild system and emerge. The ebuild system takes care of the actual work of building and installing packages, while emerge provides an interface to ebuild: managing an ebuild repository, resolving dependencies and similar issues. (These two therefore have roughly the same relation as rpm has with yum, or dpkg has with APT.)\nA GTK-based GUI, [http://porthole.sourceforge.net Porthole], is available for working with Portage.\nThere is also the Himerge GUI, which stands for \"Haskell Interface for eMerge\".\nFunctions provided\nPortage is characterized by its main function: compiling from source code the packages the user wishes to install. In doing so it allows customization of compiler and target-application options to fit the system's specifications and the user's own wishes. Functionalities related to system management include: allowing parallel package-version installation, tracking cross-package dependencies, managing a database of installed packages, providing a local ebuild repository, and synchronizing of the local Portage tree with remote repositories. Functionalities related to individual package installation include: specifying compilation settings for the target machine and choosing package components.\nPortage distinguishes between three levels of stability in ebuilds: stable (e.g., the software works as intended with no known security issues at time of release), keyword masked (mainly for packages that have not been sufficiently tested on the target system architecture to be considered stable) and hard masked (broken or very insecure) packages.\nFeatures\nEmerge\nfile manager]]\nThe emerge command-line tool is the heart of Portage. The command is customizable with many options and modifiers. The emerge tool is the most important utility for accessing the features of Portage from the command line.\nThe program calculates and manages dependencies, executes ebuilds and maintains the local Portage tree and database of installed packages. The compilation settings used by ebuilds can be changed through the CFLAGS environment variable, based on the specifications of the individual computer and on the user's desire for optimization. The emerge utility executes ebuilds in a sandbox environment. This way the system is protected from software executed by the ebuild and resulting binaries are only merged after a successful build and sandboxed install.\nWhat emerge installs as dependencies is affected by the USE flag-settings. They decide which optional features will be included when installing or upgrading an application. The emerge command can also be used to download and install precompiled binary files.\nUSE flags\nThe Portage system offers the use of \"USE flags\", which allows users to indicate which software features they would like to include (and exclude) while building packages. For example, there is a USE flag to include DVD support, where available, in packages compiled with the flag enabled. The USE flags affect which dependencies are required, generally affecting which optional features will be built into a given program when it is compiled. For example, in packages which use a configure script, the USE flag feature would translate to ./configure --with-feature.\nThe specification of USE flags is the usual way to configure programs on Gentoo. USE flags may be set manually, or via user-friendly tools such as 'ufed' (USE flag editor), which lists flags along with their description. A list of available USE flags is available at the Gentoo website's [https://www.gentoo.org/support/use-flags/ USE Flag Index].\nebuild\nGentoo does not, by default, use binary packages as other package management systems do (like pacman or apt), employing instead a format known as the ebuild. Whereas RPM binaries are precompiled binaries, ebuilds are shell scripts with variables and functions which contain a description of the software, and instructions on how to obtain, configure, compile, and install it, more closely akin to (but more powerful than) the .spec files distributed in SRPMs. The official repository provides over 19,600 ebuilds, the majority of which are distributed by the Gentoo mirrors. New and updated ebuilds can be obtained by synchronizing the local ebuild repositories with the mirrors. This is done by executing the command emaint sync -a. Historically, Gentoo has provided pre-compiled binary packages for many common programs, especially those which are lengthy to compile, such as Mozilla Firefox and OpenOffice.org. These are still installed with emerge, just by appending a \"-bin\" to the package name to instead install the binary version.\nExample of ebuild for GNOME Terminator:\n# Copyright 1999-2020 Gentoo Authors\n# Distributed under the terms of the GNU General Public License v2\nEAPI=7\nPYTHON_COMPAT=( python3_{6,7,8} )\nDISTUTILS_USE_SETUPTOOLS=\"no\"\ninherit distutils-r1 virtualx xdg-utils\nDESCRIPTION=\"Multiple GNOME terminals in one window\"\nHOMEPAGE=\"https://github.com/gnome-terminator/terminator\"\nSRC_URI=\"https://github.com/gnome-terminator/terminator/releases/download/v${PV}/${P}.tar.gz\"\nLICENSE=\"GPL-2\"\nSLOT=\"0\"\nKEYWORDS=\"amd64 ~ppc x86\"\nIUSE=\"dbus +libnotify\"\nRDEPEND=\"\n>=dev-libs/glib-2.32:2\ndev-libs/keybinder:3[introspection]\ndev-python/configobj[${PYTHON_USEDEP}]\ndev-python/psutil[${PYTHON_USEDEP}]\ndev-python/pycairo[${PYTHON_USEDEP}]\ndev-python/pygobject:3[${PYTHON_USEDEP}]\n>=x11-libs/gtk+-3.16:3\nx11-libs/vte:2.91[introspection]\ndbus? ( dev-python/dbus-python[${PYTHON_USEDEP}] )\nlibnotify? ( x11-libs/libnotify[introspection] )\n\"\nBDEPEND=\"\ndev-util/intltool\n\"\ndistutils_enable_tests setup.py\nPATCHES=(\n\"${FILESDIR}\"/terminator-1.91-without-icon-cache.patch\n\"${FILESDIR}\"/terminator-1.91-desktop.patch\n\"${FILESDIR}\"/terminator-1.92-make-tests-fail.patch\n\"${FILESDIR}\"/terminator-1.92-metainfo.patch\n)\nsrc_prepare() {\nxdg_environment_reset\ndistutils-r1_src_prepare\n}\nsrc_test() {\nvirtx distutils-r1_src_test\n}\npkg_postinst() {\nxdg_desktop_database_update\nxdg_icon_cache_update\n}\npkg_postrm() {\nxdg_desktop_database_update\nxdg_icon_cache_update\n}\nBinary packages\nGentoo does have a binary packaging format, which is a .tbz2 file (tar with bzip2 compression) with additional metadata. This feature enables the building of binary packages on one system (using Portage's buildpkg or quickpkg) followed by quick installation on compatible systems (with Portage's getbinpkg or emerge -K). See [http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=2&chap=3#doc_chap4 Portage Features in the Gentoo Linux Handbook] for more information.\nProfiles\nPortage has a set of profiles for different use cases and host targets that tend to be versioned by upstream developers, which can change how Portage functions and deals with the system when it comes to its file system hierarchy, toolchain upgrades, libc and init systems. Profiles can also apply ebuild configurations, compiler flags, and masking in the world set.\nMasking\nMasking is how Gentoo determines which packages are suitable for a system. Ebuilds designed for different architectures or experimental software are usually masked in a manner which prevents a stable system from installing them without user intervention.\nPackages that generally just require some testing but will often work fine are said to be keyword masked (i.e. they are available for systems with an ACCEPT_KEYWORDS make.conf entry starting with the character ~, such as ~x86, ~amd64, ~ppc). An individual keyword masked package can be unmasked by adding a line with the full package name and keyword to some file within the  /etc/portage/package.accept_keywords/ directory. Users can make subdirectories here as well, allowing for custom organization. For example, if a masked package had multiple masked dependencies, the user could make a directory with the name of the original masked package, and put all the mask files for the package and its dependencies in that directory. This scheme replaces the older scheme of having /etc/portage/package.accept_keywords as one text file.\nPackages with known problems or not considered mature enough to be candidates for stable are hard masked by one of the various package.mask files in /usr/portage/profiles, and such entries are generally accompanied by a comment from developers explaining the reason for the mask.\nGentoo/Alt\nGentoo/Alt is a project created to manage porting the portage framework and other features to other operating systems, such as Mac OS X and the free BSDs. Gentoo/Alt was set up by Pieter Van den Abeele and Daniel Robbins after Pieter Van den Abeele founded Gentoo for Mac OS X.\nMac OS X\nGentoo for Mac OS X was the first non-Linux project of Gentoo and focused on making the Gentoo experience available on Apple's operating system by introducing the Portage system as a separate entity. This was roughly similar to Fink and MacPorts, but it used Portage instead of a Debian-like or Ports-like system. Later on, Gentoo for Mac OS X was made a subproject of Gentoo/Alt. The project is no longer active, because its prime assumption of using and not modifying the host OS appeared not to be realistic and eventually broke most packages or made them hardly maintainable. Gentoo for Mac OS X has been superseded by Gentoo Prefix, which is currently what Gentoo offers to Mac OS X users.\nThe Prefix project on Mac OS X is tested and supported on Mac OS X Tiger, Leopard and Snow Leopard on PowerPC, IA-32, and x86-64 architectures.\nFreeBSD\n| latest test date =\n| marketing target =\n| language =\n| kernel type = Monolithic (kFreeBSD)\n| userland = FreeBSD\n| ui =\n| license = Various\n| working state = Discontinued\n| updatemodel =\n| package manager = Portage\n}}\nGentoo/FreeBSD brings the Gentoo Linux design, structure, and tools such as Portage and the Gentoo Linux base layout to the FreeBSD operating system. Gentoo's GNU toolchain is used instead of the original FreeBSD one.\nAlthough the project is no longer maintained by any active Gentoo developers, there are instructions that allow installation of a full Gentoo/FreeBSD system. FreeBSD system ebuilds are integrated into the main portage tree, but this port is far from being complete due to the amount of packages needing to be ported and the lack of a proper Live CD (FreeSBIE's Live CD or FreeBSD setup CD is used during installation).\nThe current (semi) official logo for Gentoo/FreeBSD is a daemonized \"g\", derived from original Gentoo Linux logo and inspired by the BSD Daemon. It was designed by Marius Morawski, responding to an unofficial contest launched by Diego Elio Petten√≤ on his blog.\nNetBSD\nGentoo/NetBSD is a project to provide a GNU userland managed by Portage with a NetBSD kernel. The project was started by Damian Florczyk. Only the x86 architecture is targeted and the system as a whole is in an incomplete state.\nOpenBSD\n|latest test version =\n|latest test date =\n|marketing target =\n|language =\n|kernel type = Monolithic (kOpenBSD)\n|userland = OpenBSD\n|ui =\n|license = Various\n|working state = Discontinued\n|updatemodel =\n|package manager = Portage\n}}\nGentoo/OpenBSD was a Gentoo/*BSD subproject to port Gentoo features such as Portage to the OpenBSD operating system. It was originally started by Grant Goodyear and is deprecated. An install guide is provided on the project page but is also marked as deprecated.\nDragonFlyBSD\nGentoo/DragonFlyBSD is a currently unofficial port to the DragonFlyBSD kernel. The project is developed by Robert Sebastian Gerus.\nGNU Hurd\nAn unofficial port to GNU Hurd was also being developed, but was abandoned in late 2006.\nAndroid\nLed by Benda Xu, \"Gentoo RAP for Android Devices\" installs a variant of Gentoo called Gentoo RAP in a directory prefix alongside Android. The Linux kernel is used by both Android and Gentoo RAP.\nInterix\nGentoo/Interix (eprefix) is a port of Gentoo that runs atop the Interix Subsystem for Windows which is also known as Microsoft Windows Services for UNIX (SFU) or Subsystem for Unix-based Applications (SUA). A result of the Gentoo/Interix project is the ability to install and use the Portage system to emerge native Windows applications (requires Visual Studio, 2008 Express Edition will do too). However, this feature does not support the wide variety of packages supported by other platforms (including Interix).\nPortaris\nAn unofficial port to the Solaris operating system, \"Portaris\", was announced around 2006, but never got into a public state. It was superseded by the Gentoo Prefix project.\nPlan 9\nStarted in 2011 as a Google Summer of Code project, Plan 9 For Gentoo takes the Gentoo base and overlays a userspace inspired by Plan 9. The stated objectives of the project are to have better hardware support, better software support and to create a \"culture shock\" for people that have previously used Linux systems. The project is maintained by Robert Seaton.\nSee also\n* pkgsrc\n* List of Linux package management systems\nReferences\nExternal links\n; Official documentation\n* [https://web.archive.org/web/20141231094259/http://wiki.gentoo.org/wiki/Handbook:X86/Working/Features Gentoo Portage Features]\n* [https://web.archive.org/web/20141231095024/http://wiki.gentoo.org/wiki/Handbook:X86/Working/Portage Gentoo Portage Introduction]\n* [https://wiki.gentoo.org/wiki/Handbook:X86#Working_with_Portage Working with Portage]\n* [http://packages.gentoo.org/ Gentoo Packages], information about currently available ebuilds\n; Unofficial documentation\n* , alternative presentation of current ebuild information\n* [https://web.archive.org/web/20060529062641/http://wiki.kaspersandberg.com/doku.php?id=howtos:portage Using Portage]\n* [http://forums.gentoo.org/viewtopic.php?t=125553 Installing portage on other Linux distros]\n; Similar software\n* [http://freaknet.org/alpt/Emerde/ Emerde, portage-like project for Slackware]\n* [https://github.com/pkgcore/pkgcore Pkgcore], bsd re-implementation of portage\n* [http://paludis.exherbo.org/ Paludis] , a package manager which can be used with ebuilds and other formats\n* [https://wiki.archlinux.org/index.php/Arch_Build_System Arch Build System] a ports-like system for [http://www.archlinux.org/ Arch Linux]"
    }
  ]
}