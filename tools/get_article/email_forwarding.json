{
  "content": [
    {
      "type": "text",
      "text": "# Email forwarding\n\nEmail forwarding generically refers to the operation of re-sending a previously delivered email to an email address to one or more different email addresses.\nThe term forwarding, used for mail since long before electronic communications, has no specific technical meaning,In section 3.9.2 List of RFC 5321, the term forwarding is used ambiguously. It notes that \"the key difference between handling aliases (Section 3.9.1) and forwarding (this subsection) is the change to the [Return-Path header].\" That wording, new w.r.t. RFC 2821, could be interpreted as the definition of forwarding, if the same term weren't used at the beginning of the same subsection with the opposite meaning. As a contributor to  agreed,  but it implies that the email has been moved \"forward\" to a new destination.\nEmail forwarding can also redirect mail going to a certain address and send it to one or more other addresses. Vice versa, email items going to several different addresses can converge via forwarding to end up in a single address in-box.\nEmail users and administrators of email systems use the same term when speaking of both server-based and client-based forwarding.\nServer-based forwarding\nThe domain name (the part appearing to the right of @ in an email address) defines the target server(s)\nfor the corresponding class of addresses. A domain may also define backup servers; they have no mailboxes and forward messages without changing any part of their envelopes.The envelope of a message is the data transmitted in an SMTP transaction before transmitting the content of the message. The envelope is lost when the message is delivered, although some of its fields may be saved by the receiving server in the message's headers. In particular, the envelope holds the Return-Path (a.k.a. bounce address, MAIL FROM argument, mailfrom, or mfrom) and one or more recipients (including Bcc). By contrast, primary servers can deliver a message to a user's mailbox and/or forward it by changing some envelope addresses. ~/.forward files (see below) provide a typical example of server-based forwarding to different recipients.\nEmail administrators sometimes use the term redirection as a synonym for server-based email-forwarding to different recipients.  Protocol engineers sometimes use the term Mediator to refer to a forwarding server.\nBecause of spam, it is becoming increasingly difficult to reliably forward mail across different domains, and some recommend avoiding it if at all possible.\nUses of server-based forwarding to different recipients\n; Role-addresses: info, sales, postmaster, and similar names can appear to the left of @ in email addresses. An organization may forward messages intended for a given role to the address of the person(s) currently functioning in that role or office.\n; Pseudonym-addresses: Most domain name hosting facilities provide facilities to forward mail to another email address such as a mailbox at the user's Internet Service Provider; there are also separate providers of mail forwarding services. This allows users to have an email address that does not change if they change mailbox provider.\n; Multiple, or discontinued addresses: When users change their email address, or have several addresses, the user or an administrator may set up forwarding from these addresses, if still valid, to a single current one, in order to avoid losing messages.\nForwarding versus remailing\nPlain message-forwarding changes the envelope recipient(s) and leaves the envelope sender field untouched. The \"envelope sender\" field does not equate to the From header which Email client software usually displays: it represents a field used in the early stages of the SMTP protocol, and subsequently saved as the Return-Path header. This field holds the address to which mail-systems must send bounce messages — reporting delivery-failure (or success) — if any.\nBy contrast, the terms remailing or redistribution can sometimes mean re-sending the message and also rewriting the \"envelope sender\" field. Electronic mailing lists furnish a typical example. Authors submit messages to a reflector that performs remailing to each list address. That way, bounce messages (which report a failure delivering a message to any list- subscriber) will not reach the author of a message. However, annoying misconfigured vacation autoreplies do reach authors.\nTypically, plain message-forwarding does alias-expansion, while proper message-forwarding, also named forwarding tout-court serves for mailing-lists. When additional modifications to the message are carried out, so as to rather resemble the action of a Mail User Agent submitting a new message, the term forwarding becomes deceptive and remailing seems more appropriate.\nIn the Sender Policy Framework (SPF), the domain-name in the envelope sender remains subject to policy restrictions. Therefore, SPF generally disallows plain message-forwarding. In case of forwarding, the email is being sent from the forwarding server, which is not authorized to send emails for the original sender's domain. So the SPF will fail. Intra domain redirection complies with SPF as long as the relevant servers share a consistent configuration. Mail servers that practice inter-domain message-forwarding may break SPF even if they do not implement SPF themselves, i.e. they neither apply SPF checks nor publish SPF records.\nSender Rewriting Scheme provides for a generic forwarding mechanism compatible with SPF.\nClient-based forwarding\nAutomated client-based forwarding\nClient forwarding can take place automatically using a non-interactive client such as a mail retrieval agent. Although the retrieval agent uses a client protocol, this forwarding resembles server forwarding in that it keeps the same message-identity. Concerns about the envelope-sender apply.\nManual client-based forwarding\nAn end-user can manually forward a message using an email client. Forwarding inline quotes the message below the main text of the new message, and usually preserves original attachments as well as a choice of selected headers (e.g. the original From and Reply-To.) The recipient of a message forwarded this way may still be able to reply to the original message; the ability to do so depends on the presence of original headers and may imply manually copying and pasting the relevant destination addresses.\nForwarding as attachment prepares a MIME attachment (of type message/rfc822) that contains the full original message, including all headers and any attachment. Note that including all the headers discloses much information about the message, such as the servers that transmitted it and any client-tag added on the mailbox. The recipient of a message forwarded this way may be able to open the attached message and reply to it seamlessly.\nThis kind of forwarding actually constitutes a remailing from the points of view of the envelope-sender and of the recipient(s). The message identity also changes.\nHistorical development of email forwarding\nRFC 821, Simple Mail Transfer Protocol, by Jonathan B. Postel in 1982, provided for a forward-path for each recipient, in the form of, for example, @USC-ISIE.ARPA, @USC-ISIF.ARPA: Q-Smith@ISI-VAXA.ARPA — an optional list of hosts and a required destination-mailbox.  When the list of hosts existed, it served as a source-route, indicating that each host had to relay the mail to the next host on the list. Otherwise, in the case of insufficient destination-information but where the server knew the correct destination, it could take the responsibility to deliver the message by responding as follows:\nS: RCPT TO:\nR: 251 User not local; will forward to\nThe concept at that time envisaged the elements of the forward-path (source route) moving to the return-path (envelope sender) as a message got relayed from one SMTP server to another. Even if the system discouraged the use of source-routing,\ndynamically building the return-path implied that the \"envelope sender\" information could not remain in its original form during forwarding. Thus RFC 821 did not originally allow plain message-forwarding.\nThe introduction of the MX record made source-routing unnecessary. In 1989, RFC 1123 recommended accepting source-routing only for backward-compatibility. At that point, plain message forwarding became the recommended action for alias-expansion. In 2008, RFC 5321 still mentions that \"systems may remove the return path and rebuild [it] as needed\", taking into consideration that not doing so might inadvertently disclose sensitive information.\nActually, plain message-forwarding can be conveniently used for alias expansion within the same server or a set of coordinated servers.\n~/.forward files\nThe reference SMTP implementation in the early 1980s was sendmail, which provided for ~/.forward files, which can store the target email-addresses for given users. This kind of server-based forwarding is sometimes called dot-forwarding.  One can configure some email-program filters to automatically perform forwarding or replying actions immediately after receiving. Forward files can also contain shell scripts, which have become a source of many security problems. Formerly only trusted users could utilize the command-line switch for setting the envelope sender, -f arg; some systems disabled this feature for security reasons.\nThe  (version 8.708 of 2006) [http://www.sendmail.org/doc/sendmail-current/doc/op/op.pdf sendmail documentation] mentions no restrictions in using the -f switch, and uses the verb set rather than override to describe its action on the envelope sender data.\nEmail predates the formalization of client–server architectures in the 1990s.\nTherefore, the distinction between client and server seems necessarily forced. The original distinction contrasted daemons and user-controlled programs which run on the same machine. The sendmail daemon used to run with root privileges so it could impersonate any user whose mail it had to manage. On the other hand, users can access their own individual mail-files and configuration files, including ~/.forward. Client programs may assist in editing the server configuration-files of a given user, thereby causing some confusion as to what role each program plays.\nVirtual users\nThe term \"virtual users\" refers to email users who never log on a mail-server system and only access their mailboxes using remote clients. A mail-server program may work for both virtual and regular users, or it may require minor modifications to take advantage of the fact that virtual users frequently share the same system id. The latter circumstance allows the server program to implement some features more easily, as it does not have to obey system-access restrictions. The same principles of operations apply. However, virtual users have more difficulty in accessing their configuration files, for good or ill.\nSee also\n* Chain email\n* Electronic mailing list\n* Email alias\n* Email Letter\n* Email subject abbreviations\n* Email spam\n* Mail user agent (MUA) a.k.a. email client\n* Message transfer agent (MTA)\n* Email storm\n* Sender Rewriting Scheme\nNotes"
    }
  ]
}