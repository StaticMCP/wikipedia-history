{
  "content": [
    {
      "type": "text",
      "text": "# Hop (software)\n\n| typing                 = strong, dynamic\n| influenced_by          = Scheme\n| license                = GPL 2+\n| website                =\n}}\nHop is a Lisp-like programming language by Manuel Serrano for web 2.0 and also the name of the web broker (server and proxy) that implements this language. It is written in Bigloo Scheme. It is a project funded by INRIA.\nLanguage design\nHop is a stratified language, which means that a single program file contains instructions for both the server and the client. The server executes CPU demanding computations and operations that require system privileges for accessing files or other resources. The clients (of which there may be many such as browsers, cell phones, etc.) are dedicated to executing actions related to the programming of the graphical user interfaces.\n(define-service (server-date)             ; 1\n(current-date))                         ; 2\n(                                   ; 4\n(                               ; 5\n:onclick ~(with-hop ($server-date)    ; 6\n(lambda (h) (alert h))) ; 7\n\"Server time\"))                     ; 8\nThe code snippet above illustrates a few concepts.\n* The 8 lines of code define a complete program. Lines 1 and 2 result in a service definition on the server. Lines 4 through 8 result in an HTML page complete with JavaScript functions. It instructs a client (browser) to display a button with the label \"Server time\" and to send a request to the server when the user clicks on the button. Hop automatically generates all the instructions needed for the communication between the client and the server.\n* Hop is based on Scheme. Therefore, a Hop program is essentially a list of words and/or lists that start and end with parentheses. For example \"(HTML content)\". \"HTML\" is the function name and \"content\" is the function parameter.\n* Function names in Hop may contain characters other than letters and numbers. For example \"\" is a valid name. Therefore, the syntax of Hop looks very similar to HTML (by design). The Hop expression \"( content)\" is similar to the HTML expression \"content\".\n* HTML parameters start with a colon; for example \":onclick\".\n* The $ character in \"$server-date\" indicates that the server should substitute the variable name \"server-date\" with the variable's value before sending the HTML to the client. This is very similar to how ASP and JSP work.\n* The ~ character in \":onclick ~(...)\" indicates that the client should process what is between the parentheses.\n* The \"with-hop\" function in \"(with-hop (...) (...))\" is a special function that delegates work to the server and takes two parameters. The first parameter contains the request the client should send to the server asynchronously. The second parameter contains the callback function that the client should invoke when the response arrives from the server. \"(lambda (h) (alert h))\" is an anonymous function that takes a single input parameter \"(h)\", which contains the server response when the function is called. \"(alert h)\" is the function body.\nIssues\nGiven its recent introduction, Hop currently exhibits a number of weaknesses.\n* Security is weak. It is an area of active research.\n* Network failures are currently handled through manually coded time-out and exception routines, this approach is labor-intensive and relatively unreliable.\nReferences\nExternal links\n*\n*[http://florian.loitsch.com/publications/hop.pdf Authoritative introduction to the Hop language] (pdf)\n*[http://www.linux-magazin.de/news/web_framework_hop_mit_neuen_programmierschnittstellen article in linux-magazin.de]"
    }
  ]
}