{
  "content": [
    {
      "type": "text",
      "text": "# WarpOS\n\n| discontinued = Yes\n| latest release version = Final\n| latest release date =\n| marketing target = Amiga\n| programmed in = PowerPC assembly language\n| language = English\n| update model = Compile from source code\n| supported platforms = Amiga PowerPC\n| kernel type = Microkernel\n| userland =\n| ui = Command-line interface\n| license =\n| preceded by = AmigaOS\n| succeeded by = AmigaOS 4, MorphOS\n| website =\n}}\nWarpOS is a multitasking kernel for the PowerPC (PPC) architecture central processing unit (CPU) developed by Haage & Partner for the Amiga computer platform in the late 1990s and early 2000s. It runs on PowerUP accelerator boards developed by phase5 which contains both a Motorola 68000 series CPU and a PowerPC CPU with shared address space. WarpOS runs alongside the 68k-based AmigaOS, which can use the PowerPC as a coprocessor. Despite its name, it is not an operating system (OS), but a kernel; it supplies a limited set of functions similar to those in AmigaOS for using the PowerPC. When released, its original name was WarpUP, but was changed to reflect its greater feature set, and possibly to avoid comparison with its competitor, PowerUP.\nIt was developed by Sam Jordan using 680x0 and PowerPC assembly language. It was distributed free of charge.\nHistory\nIn 1997, Phase5, an Amiga hardware manufacturer, launched their range of PowerPC (PPC) accelerators for the Amiga. Because AmigaOS was not yet PowerPC native, as a stopgap measure the PowerUP boards were dual-processor boards, incorporating the PPC and a 68K processor (68LC040, 68040 at 25&nbsp;MHz or 68060 at 50&nbsp;MHz). They carried the PowerUP kernel on board in an erasable programmable read-only memory (EPROM), a similar kernel designed to allow AmigaOS application software to use both PPC and 68k applications through an application programming interface (API) library named . AmigaOS still required a 68K processor, while the PPC was in effect used as an extremely fast coprocessor that carried out specific instructions.\nThis causes significant slowdown when the OS task switches between the 68K and PPC (a context switch), because CPU caches must be flushed to maintain memory integrity. The more CPU switches occur in an application, the more the slowdown, often so much that it was pointless to use the PPC processor, being slower than the 68k native binary. The main workaround for this was to simply avoid as many 68k OS calls as possible, or to group them together, but it was difficult and time-consuming for developers to do this.\nWarpOS was launched as a controversial alternative to Phase5's PowerUP kernel, but eventually became the most used and nominally the standard PPC kernel on AmigaOS.\nWarpUP\nWarpUP is a high-speed kernel for PowerPC versions of Amiga.\nWarpUP forms a hardware abstraction layer between the hardware and software, and ensures that the applications function correctly on PowerPC architecture. It also forms an interface between PowerPC driven hardware, and 68k compliant software, which allows the optimal exploitation of the speed of the PowerPC CPU, while making the porting of 68k applications as easy as possible.\nSeveral advantages that WarpUP claims to offer are:\n* High speed communication between 68k programs and PowerPC CPUs\n* Native multi-tasking, memory management, semaphores, list and tag management, signalling and message handling\n* Memory protection (tasks are allowed to allocate to protected memory areas if need be)\n* Virtual Signals (signals are shared between CPUs and will always be redirected to the correct CPU when needed)\n* Inter-CPU messaging system (messages are passed between the CPUs when needed)\n* Optimal use of the PowerPC memory management unit and the PowerPC CPU cache\n* Memory management unit and exception-handling support for applications\n* PowerSave function that turns the PowerPC off if no applications are using it\n* PowerPC Enforcer, protects the first page of memory\n* A detailed crash requester that provides detailed information to help developers locate errors\n* Integrated debugging system that enables bug tracking easier\n* Specific support for highly optimized software such as games and demos\n* Support for Amiga-compliant applications\n* Libraries for PowerPC native, mixed, and fat binary applications\n* WarpUP is also usable for alternative developer systems such as Modula- or E-compilers with PowerPC support. This is because objects are not mandatorily created in Executable and Linkable Format (ELF). Instead, the Amiga compliant hunk format can be used also.\n* Easy to install\n* Hardware independent\nFeatures\nWarpOS had similar features to PowerUP, but with some major differences. Most pertinently, it used the PowerOpen application binary interface (ABI), in contrast to PowerUP which used the newer and better supported UNIX System V (SysV), which ensured both kernels could not be directly compatible.\nFrom version 14, the WarpOS kernel used a slightly different multitasking scheduler than AmigaOS (or PowerUP), based on that in Unix systems with \"nice\" values, and priorities for its own tasks and processes. This was meant to ensure that all tasks got CPU time, and weren't starved of CPU time by compute-intensive tasks (as was the case with the original AmigaOS scheduler). However, this was ineffective as it was still limited by the native AmigaOS scheduler and it did create extra difficulties synchronising with the 68k side (particularly for sound). In version 15 WarpOS introduced a concept called atomic tasks. Such tasks are noninterruptible, and scheduling does not take place unless the task explicitly allows to do so.\nWarpOS also had an inbuilt debugger which could be sent to dump information on any crashed tasks to either console window on screen or to serial, depending on environment variables.\nOne of the most lauded features of WarpOS was that it continued the Amiga Hunk format of original Amiga executables in a variant format named Extended Hunk format (EHF), and implemented the hunk type named HUNK_PPC_CODE. This allowed AmigaOS to transparently handle WarpOS executables without needing to patch the OS to recognise them, which PowerUP did need to do to run its ELF file format. While elegant in theory, the EHF format's downfall was its lack of widespread compiler support (especially GNU Compiler Collection (GCC)), and the ELF file format was adopted by AmigaOS 4 and MorphOS.\nUnlike PowerUP, WarpOS could also produce mixed (fat) binaries with both 68k and PPC code, which could run on both Amiga PPC boards and ordinary Amiga systems. This practice was very rare due to the programming complexity of doing so, but the picture datatype in AmigaOS 3.9 (a shared library that loaded, processed and dithered pictures through the AmigaOS datatypes system) was a notable example of its use. PPC equipped systems would notice an immediate large speed-up, while 68k systems and emulators would still be compatible without having crashing or installing another binary.\nWarpOS had two housekeeping tasks named Defiant and Babylon5, thought to be named after the USS Defiant from Star Trek DS9 and Babylon 5, its developers being science fiction fans. These would often be reported by new users who did not know what they were appearing in tasks lists.\nControversy\nHaage & Partner, an Amiga software and hardware manufacturer (which also created AmigaOS 3.9), developed a competing kernel to PowerUP named WarpUP, which they claimed would work around the context switching problem, a claim which would be bitterly challenged by Phase5. Phase5 claimed correctly that this hardware problem could not be circumvented by simply optimising the kernel and was a limitation inherent to the almost unique board design, which shared the memory bus between two CPUs of radically different families. WarpOS versions up to V7 were wrappers added around Phase5's PowerUP kernel but starting from version 8 it was its own PPC kernel running alongside AmigaOS and was renamed WarpOS.\nAs PowerUP was on the EPROM of the boards and Phase5 could not run at the same time with WarpOS, it had to be deactivated by a small software tool. As H&P did not have access to the EPROM, the tool had to make assumptions about the PowerUP kernel and naturally this broke in updated versions. This led to open accusations by WarpOS advocates and by the author, Sam Jordan, that Phase5 were intentionally trying to prevent WarpOS running on their boards. Phase5 also claimed that Haage & Partner abused a free developer board gifted to them to launch this competing kernel (although free, WarpOS was supported almost exclusively by H&P's commercial StormC++ compiler), and that they had reverse-engineered PowerUP to do so. H&P pointed out that it was unavoidable as long Phase5 refused to allow users to choose what kernel to put on the board EPROM, claiming that the PowerUP kernel was essential for initialising the boards on boot and erasing them would simply render the boards useless.\nWorse still, users were originally only able to run one of these kernels, resulting in much duplication of effort between competing developers determined to use one or the other, often with two versions of software being developed independently. Despite there being little or no real difference in performance, debugging capability, usability or stability in either system, and it had become patently clear that neither could hope to work around the hardware context switch issue, a series of claims were made on each side and much fighting in Usenet followed.\nThis resulted in a great number of hurriedly ported, often semi-functional ports of open source software from Windows, often just to \"one up\" the other side. Steffen Haeuser (who had gained notoriety by declaring, \"ELF is a monster !!!\", referring to the ELF fileformat) of Hyperion Entertainment CVBA was particularly infamous for his \"political\" ports being so rushed that they lacked sound or were very unstable, being released just to make up the numbers and produce a list of software greater than that of PowerUP.\nThe impasse between the competing systems was eventually ended by a PowerUP wrapper for WarpOS by Franke Wille, which allowed running PowerUP software on WarpOS systems.\nThe bitter infighting in the Amiga community over the two kernels, while brief, produced a rift that eventually culminated in a split between AmigaOS and MorphOS, with most WarpOS and PowerUP developers switching either new AmigaOS implementation respectively.\nWarpOS was intended to be used as a basis for AmigaOS 4 but Haage & Partner dropped the project when their AmigaOS 4 PPC contract was cancelled by Amiga, Inc. in 2000. When Hyperion Entertainment took over the project, they originally had the same idea, but it was later admitted by their developers that it was of very little use in modernising the OS, being written wholly in non-annotated machine code assembly language.\nThe choice of WarpOS over its rival proved to be a Pyrrhic victory, as the standards it had developed around, namely EHF and PowerOpen, were to be wholly abandoned in later development of AmigaOS and its clones. The dual CPU model did not recur.\nLegacy support in other operating systems\nAmigaOS 4\nA wrapper was made for AmigaOS 4.0 & 4.1, first it was included, then it was distributed by GuruMedation team, (not to be confused by Amiga's \"Blue\" Screen of death that also has the same name). This wrapper supported PowerPC 603e, 604e, AMCC440EP, G3 and G4 CPU's. But failed to work on AMCC460 and P.A.Semi PA6T,\nWork is under way to make new wrapper named ReWarp. A group named Sakura is responsible for the new wrapper.\nMorphOS\nMorphOS also uses a wrapper to run WarpUP programs, they also have a wrapper for PowerUP, a WarpOS competitor.\nGames for WarpOS\n* CrossFire II\n* Descent: FreeSpace – The Great War\nGame was first released on WarpOS, then ported to AmigaOS4.0\n* ADoomPPC\nOriginal title: DOOM\n* Earth 2140\n* AmiHeretic\n* Heretic II\n(Only for WarpOS, not for AmigaOS)\n* WarpHexen\nOriginal title: Hexen: Beyond_Heretic\n(Same game named UHexen for AmigaOS4)\n* Nightlong: Union City Conspiracy\n* Payback\n* AmiQuake\n* The Feeble Files\n* Quake II\nGame was first released on WarpOS, then ported to AmigaOS4.0\n* Shogo: Mobile Armor Division\n(Only for WarpOS, not for AmigaOS)\n* Wipeout 2097\n(Only for WarpOS, not for AmigaOS)\nDemos for WarpOS\n* PPC/Warp3D – demo by CdBS Software; 2nd at UkonxParty 2000\n* V1.0 Demo – PPC/Warp3D by CdBS Software\n* DeathTrial – FixPatch 0.1\n* MusicDisk – Earth-Tribe-Media\n* One Day Miracle – by Fit ASM'02 64k intro\n* Booring Trip PPC – for UkonxParty 4 in France\n* Greuh!Zillement Beta – 2nd @ LTP4\n* Salvation – PPC dentro, by Horizontal Lamerz\n* Flow – Winner 64kb at FuckYanica One\n* Megademo IV – Quick PPC port\n* DeathTrial – by Mkd:AGA/CGXwarposPPCAhi+dbplayer\n* Equinoxe demoparty invitation\n* PRO_GEAR_SPEC – WarpOS PPC demo by mankind\n* Mankind MesaGLUT – wos+ahi surreal demo\n* 212 – by Madwizards; 1st at Delirium 2001\n* Amsterdam Blessings – by Madwizards; 3rd at M/S 2001\n* Cull Bazaar – by Madwizards; 11th at Assembly 2001\n* Nuance \"Subtle Shades 2\" – 5th place at MS2K+1\n* 4th place at MS99 by NUANCE\n* NoSyncIzBack! – WOS demo 3rd at IGDRP 2.\n* Planet Potion – A 64 kB Intro by Potion\n* Suicidal – A 64 kB Intro by Potion\n* Sayontsheck – PPC AGA Demo by Lamers\n* Luminance – PPC WOS v1.1 – UKONX; 1st at Slach 2 1999\n* NoSync – by Universe – WOS demo 3rd at Equinoxe 2003\n* PowerUp – by Universe: Winner WOS demo at Slash 2001\n* Everything Dies – by Venus Art, PPC WarpUP version\n* Ghost – by Venus Art, PPC WarpUP version\nEmulators for WarpOS\n* IFusion, FusionPPC – MacOS 8/9 emulator\n* WarpSNES\nPrograms for WarpOS\n* Frogger – Video player\n* fxpaint\n* perfectpaint\n* wosdb – simple debugger\nSee also\n* Amiga exec\nReferences\n;Notes\n# [http://groups.google.com/group/comp.sys.amiga.games/msg/ee68ac266ed3a54c Warpsness problems :]( Steffen Haeuser explains WarpUp kernel at comp.sys.amiga.games\n# See also pages regarding [http://www.amigahistory.co.uk/ppchistory.html history of the PPC processor on Amiga] at Amiga.History site.\n# [http://www.haage-partner.de/amiga/storm/sc_tec_d.htm EHF specifications]  on Haage&Partners site.\n# [http://www.sintonen.fi/bppcflash.txt BlizzardPPC Flash] Why WarpOS and Warp3D have problems with Blizzard PPC\n# Dietrich, Wolf; [http://amigareport.com/ar508/news30.html Amiga Report Magazine]  Haage and Partner Announce WarpUP, Phase5 Blasts H&P\n# [http://groups.google.com/group/comp.sys.amiga.games/msg/6ea3eeac38097c22 comp.sys.amiga.games] Steffen Haeuser comments ELF\n# [http://aminet.net/package/util/libs/ppclibemu ppclibemu] ppc.library emulation under WarpOS\n# [http://www.sam-jordan.ch/software.htm List of software projects of Sam Jordan]\n# [http://www.amiga-news.de/en/news/AN-2001-11-00060-EN.html Interview with Ben Hermans from Hyperion] Benjamin Hermans comments WarpOS\n# Jordan, S: powerpc.library/WarpOS history. 2001\nFurther reading\n*\n*\n*\n*\n*\n*\n*\n*\n*"
    }
  ]
}