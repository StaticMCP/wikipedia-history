{
  "content": [
    {
      "type": "text",
      "text": "# MS-DOS 4.0 (multitasking)\n\nsession running in VirtualBox.\n| developer = Microsoft\n| family = DOS\n| released =\n| discontinued = yes\n| ui = Command-line interface (COMMAND.COM)\n| license =\n| website =\n| source_model = Open source\n| kernel_type = Monolithic\n| succeeded_by =\n| supported_platforms = x86\n| latest_release_version = 4.10.30\n| latest_release_date =\n| programmed_in = x86 assembly\n| updatemodel = Re-installation\n| package_manager = None\n| working_state =\n| support status = Unsupported\n}}\nMS-DOS 4.0 was a multitasking release of MS-DOS developed by Microsoft based on MS-DOS 2.0. Lack of interest from OEMs, particularly IBM (who previously gave Microsoft multitasking code on IBM PC DOS included with TopView), led to it being released only in a scaled-back form. It is sometimes referred to as European MS-DOS 4.0, as it was primarily used there. It should not be confused with PC DOS 4.00 or MS-DOS 4.01 and later, which did not contain the multi-tasking features.\nHistory\nApricot Computers pre-announced \"MS-DOS 4.0\" in early 1986, and Microsoft demonstrated it in September of that year at a Paris trade show. However, only a few European OEMs, such as SMT Goupil and International Computers Limited (ICL), actually licensed releases of the software. In particular, IBM declined the product, concentrating instead on improvements to MS-DOS 3.x and their new joint development with Microsoft to produce OS/2.\nAs a result, the project was scaled back, and only those features promised to particular OEMs were delivered. In September 1987, a version of multi-tasking MS-DOS 4.1 was reported to be developed for the ICL DRS Professional Workstation (PWS). This ICL/MS MS-DOS 4.10.20 version was released on October 28, 1987. A further ICL/MS MS-DOS 4.10.30 version was released on May 10, 1988. No further releases were made once the contracts had been fulfilled.\nIn July 1988, IBM announced \"IBM DOS 4.0\", an unrelated product continuing from DOS 3.3 and 3.4, leading to initial conjecture that Microsoft might release it under a different version number. However, Microsoft eventually released it as \"MS-DOS 4.0\", with a MS-DOS 4.01 following quickly to fix issues many had reported.\nFeatures\nAs well as minor improvements such as support for the New Executable file format, the key feature of the release was its support for preemptive multitasking. This did not use the protected mode available on 80386 processors, but allowed specially-written programs to continue executing in a \"background mode\", where they had no access to user input and output until returned to the foreground. The OS was reported to include a time-sliced scheduler and interprocess communication via pipes and shared memory. This limited form of multitasking was considered to be more useful in a server rather than workstation environment, particularly coupled with MS-Net 2.0, which was released simultaneously.\nOther limitations of MS-DOS 3.0 remained, including the inability to use memory above 640&nbsp;KB, and this contributed to the product's lack of adoption, particularly in light of the need to write programs specifically targeted at the new environment.\nINT 21h/AH=87h can be used to distinguish between the multitasking MS-DOS 4.x and the later MS-DOS/PC DOS 4.x issues.\nMicrosoft president Jon Shirley described it as a \"specialized version\" and went as far as saying \"maybe we shouldn't have called it DOS 4.0\", although it is not clear whether this was always the intention, or if a more enthusiastic response from OEMs would have resulted in it being the true successor to DOS 3.x. The marketing positioned it as an additional option between DOS 3.x for workstations, and Xenix for higher-end servers and multiuser systems.\nExternal commands\nMS-DOS Version 4.10.20 supports the following external commands:\n* APPEND\n* ASSIGN\n* ATTRIB\n* BACKUP\n* CHKDSK\n* COMMAND\n* DEBUG\n* DETACH\n* DISKCOMP\n* DISKCOPY\n* EDLIN\n* EXE2BIN\n* FC\n* FDISK\n* FIND\n* FORMAT\n* GRAFTABL\n* GRAPHICS\n* GWBASIC\n* HEADPARK\n* INSTALLX\n* JOIN\n* LABEL\n* LINK4\n* MODE\n* MORE\n* MOUS\n* PERM0\n* PRINT\n* QUEUER\n* RECOVER\n* REPLACE\n* RESTORE\n* SETUP\n* SHARE\n* SORT\n* SUBST\n* SYS\n* TREE\n* XCOPY\nSee also\n* Concurrent DOS, Concurrent DOS 286, Concurrent DOS 386 – Concurrent CP/M-based multiuser multitasking OS with DOS emulator since 1983\n* DOS Plus – Concurrent PC DOS-based multitasking OS with DOS emulator since 1985\n* DoubleDOS – enabled limited multitasking by partitioning a PC into two simultaneous DOS sessions\n* Novell DOS, OpenDOS, DR-DOS – successors of DOS Plus with preemptive multitasking in VDMs since 1993\n* FlexOS – successor of Concurrent DOS 286 since 1986\n* 4680 OS, 4690 OS – successors of FlexOS 286 and FlexOS 386 since 1986\n* Multiuser DOS – successor of Concurrent DOS 386 since 1991\n* REAL/32 – successor of Multiuser DOS since 1995\n* PC-MOS/386 – multiuser multitasking DOS clone since 1987\n* VM/386 – multiuser multitasking DOS environment since 1987\n* TopView – DOS-based multitasking environment since 1985\n* DESQview, DESQview/X – DOS-based multitasking environment since 1985\n* Virtual DOS machine\nReferences\n}}\nFurther reading\n*\n*\n*\n*\nNotes\nExternal links\n* [http://www.vintage-icl-computers.com/icl37 The ICL Computer Museum]"
    }
  ]
}